<div class="page-header">
  <h3 class="page-title">
    <span class="page-title-icon bg-gradient-primary text-white mr-2">
      <i class="mdi mdi-domain"></i>
    </span>
    Informacion del negocio
  </h3>
</div>
<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-body">
        <app-spinner *ngIf="isLoading"></app-spinner>
        <form (ngSubmit)="actulizarInfoNegocio(f)" #f='ngForm'>
          <div class="row">
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title">Datos Bar / Antro</h4>
                  <div class="form-group">
                    <label for="nombre">Nombre Bar / Antro</label>
                    <input [disabled]="true" type="text" [(ngModel)]="negocio.nombre" class="form-control" id="nombre" name="nombre"
                           placeholder="Nombre bar / antro">
                  </div>
                  <div class="form-group">
                    <label for="ubicacion">Direccion:</label>
                    <input type="text" [(ngModel)]="negocio.ubicacion" class="form-control" id="ubicacion"
                           name="ubicacion" placeholder="Direccion del bar">
                  </div>
                  <div class="form-group">
                    <label for="id_categoria">Categoria:</label>
                    <select [(ngModel)]="negocio.idcategoria" class="form-control" id="id_categoria"
                            name="id_categoria">
                      <option *ngFor="let categoria of categorias" [value]="categoria.id"> {{categoria.categoria }} </option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="informacion">Informacion:</label>
                    <textarea [(ngModel)]="negocio.informacion" class="form-control" id="informacion"
                              name="informacion" placeholder="Escribe una breve descripcion del lugar"></textarea>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="card-body">
                <h4>Foto del negocio</h4>
                <div class="alert alert-info">
                  Debes de tener almenos una foto de perfil de tu negocio para que se muestre en la app
                </div>
                <div class="form-group">
                  <label for="foto">Seleccione archivo</label>
                  <input type="file" class="form-control-file" id="foto" name="foto"
                         (change)="upload($event)" accept="image/*">
                </div>
                <div *ngIf="isLoadingFoto" class="spinner-wrapper-cargar">
                  <div class="donut-cargar"></div>
                </div>
                <div *ngFor="let foto of fotosubida;" class="row no-gutters">
                  <div class="col-md-6">
                    <img [src]="foto" class="card-img" alt="...">
                  </div>
                  <div class="col-md-6">
                    <div class="card-body">
                      <button class="badge badge-danger"> Eliminar</button>
                    </div>
                  </div>
                </div>
                <h4 class="mt-4">Ubicacion del negocio</h4>
                <agm-map [zoom]="11" (mapClick)="getMapClick($event)" [latitude]="lat" [longitude]="lng">
                  <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
                </agm-map>
                <button type="submit" class="btn btn-gradient-info btn-block mt-5">Editar informacion</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
